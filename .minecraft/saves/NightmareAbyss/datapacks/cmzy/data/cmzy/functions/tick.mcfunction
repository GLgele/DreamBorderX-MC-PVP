#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
execute as @a[tag=!cadao,tag=!feidao] at @s run scoreboard players reset @s cmzy_timer2
#保护者
execute if score game cmzy_count matches 1.. run function cmzy:fkz/players
#成就
#execute if score game cmzy_count matches 2.. run function cmzy:advancements
#时间线
execute if score game cmzy_count matches 1.. run function cmzy:timer/root
#map
execute if score game cmzy_count matches 2.. run function cmzy:map/root
#attribute
execute if score game cmzy_count matches 2.. run function cmzy:attribute/root
#无法丢弃的物品
execute as @e[type=minecraft:item] run data merge entity @s {PickupDelay:0s}
#环境音
execute if score game cmzy_count matches 1.. run function cmzy:map/maps/playsound/players
################武器音效
execute if score game cmzy_count matches 1.. run function cmzy:execute/wqyx
#进柜隐身
execute if score game cmzy_count matches 1.. run function cmzy:execute/siha
#移动速度方块
execute if score game cmzy_count matches 1.. if score map cmzy_count matches 4 as @a at @s if block ~ ~-1 ~ minecraft:black_concrete_powder run effect give @s speed 1 0 true
#受伤效果
execute if score game cmzy_count matches 1.. run function cmzy:execute/hurt
#敌对接近提示
execute if score game cmzy_count matches 1.. run function cmzy:execute/distance
#检测杀手攻击目标
execute as @a[scores={cmzy_dmd=1..}] at @s run function cmzy:execute/cadao
#游戏人数获取
function cmzy:execute/players_type_count
#游戏投票结束
execute if entity @a[tag=GG] if score game cmzy_count matches 2.. run function cmzy:others/gameover_tick
#watching
execute if score game cmzy_count matches 1.. run function cmzy:others/watching
#zidan
execute if score game cmzy_count matches 2.. run function cmzy:others/zidan
#第二阶段判断游戏结束
#第二阶段道具发光提示
execute if score game cmzy_count matches 4.. run function cmzy:others/phasetwo_judge
execute if score game cmzy_count matches 4.. run function cmzy:others/phasetwog_item_glowing
#技能/道具检测
execute if score game cmzy_count matches 2.. run function cmzy:test/players
#地图道具生成
execute if score game cmzy_count matches 2.. run function cmzy:items/first_stage/gold/gold_time
#noID
team join noID @a[tag=!killer_2]
#books
execute unless blocks -149 5 -19 -149 5 -19 -136 4 -25 all run clone -136 4 -25 -136 4 -25 -149 5 -19
execute unless blocks -149 5 -21 -149 5 -21 -136 4 -25 all run clone -136 4 -25 -136 4 -25 -149 5 -21
#点数获取
execute as @a store result score @s cmzy_point run data get entity @s XpLevel
#auto_game_end
execute if score time cmzy_timer matches 600.. if score game cmzy_count matches 2 if score killer_count cmzy_count matches 0 run function cmzy:others/next_level
execute if score time cmzy_timer matches 600.. if score game cmzy_count matches 2 if score normal cmzy_count matches 0 run function cmzy:others/next_level
#重新/第一次进入游戏
execute if score game cmzy_count matches 2..5 as @a[tag=spectator,gamemode=!spectator] at @s run function cmzy:others/new
execute if score game cmzy_count matches 2.. as @a[tag=!spectator,tag=!normal,tag=!killer,tag=!killer_2,tag=!fkz,tag=!fkz_Z] at @s run function cmzy:others/new
execute if score game cmzy_count matches 2.. as @a[tag=!spectator,scores={leave=1..}] at @s run function cmzy:others/new
execute if score game cmzy_count matches 2.. as @a[scores={leave=1..}] at @s run scoreboard players reset @s leave
#大厅检测
execute if score game cmzy_count matches 0 run function cmzy:timer/timer0
#宅宅基地
execute as @e[type=minecraft:falling_block,tag=xiaoxi] at @s run data modify entity @s Time set value 1
execute as @e[tag=Evildir,type=armor_stand] at @s run particle minecraft:witch ~ ~ ~ 0.5 0.8 0.5 0.1 1
execute as @e[tag=Shigaharuki,type=armor_stand] at @s run particle minecraft:portal ~ ~ ~ 0.5 1 0.5 0.01 1
execute as @e[tag=changtianyise,type=armor_stand] at @s run particle minecraft:nautilus ~ ~ ~ 0.5 1 0.5 0.4 1
execute as @e[tag=KiritoB,type=armor_stand] at @s run particle poof ~ ~ ~ 0.5 0.6 0.5 0 1
function cmzy:www/gbt
execute as @e[tag=KiritoB...,type=armor_stand] at @s run teleport @s ~ ~ ~ ~1.2 ~
execute as @e[tag=KiritoB...,type=armor_stand] at @s positioned ^ ^0.3 ^2.8 run particle dripping_lava ~ ~ ~ 0 0 0 0 1 force

execute if score game cmzy_count matches 0 run function cmzy:www/base_root
#游戏大厅
execute as @e[tag=akuma,type=falling_block] at @s run data modify entity @s Time set value 1
#地图1
execute as @e[tag=look_block,tag=map_1_door,type=falling_block] at @s run data modify entity @s Time set value 1
#egg
execute if score game cmzy_count matches 0 run function cmzy:www/root
execute if score game cmzy_count matches 0..1 run execute as @a[nbt={Inventory:[{tag:{Tags:["skeleton"]}}]},scores={egg_timer=0}] at @s run function cmzy:www/skeleton
execute if score game cmzy_count matches 0..1 run execute as @a[nbt={Inventory:[{tag:{Tags:["skeleton"]}}]},scores={egg_timer=200..}] at @s run function cmzy:www/skeleton_two
execute if score game cmzy_count matches 0..1 run execute as @a[nbt=!{Inventory:[{tag:{Tags:["skeleton"]}}]},scores={egg_timer=200..}] at @s run function cmzy:www/skeleton_three

