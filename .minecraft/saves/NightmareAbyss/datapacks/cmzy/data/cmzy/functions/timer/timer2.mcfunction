#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs.com）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#地图重置
execute if score time cmzy_timer matches 100 run function cmzy:map/maps/resetmap/reset

#
execute if score time cmzy_timer matches 400 run function cmzy:talent/physique/physique_random
execute if score time cmzy_timer matches 20 run tag @a add talent
execute if score time cmzy_timer matches 20 run function cmzy:execute/stat_player
#子弹（其实就是飞刀...
execute as @e[tag=zidan] run scoreboard players add @s cmzy_timer 1
execute as @e[tag=zidan] if score @s cmzy_timer matches 100.. run kill @s
execute at @e[tag=zidan] as @a[tag=!killer,tag=!spectator,distance=..2] if score feidao_instant_kill cmzy_count matches 1 run kill @s
execute at @e[tag=zidan] as @a[tag=!killer,tag=!spectator,distance=..2] if score feidao_instant_kill cmzy_count matches 1 run particle block minecraft:redstone_block ~ ~ ~ 0.2 0.8 0.2 1 250 force
execute at @e[tag=zidan] as @a[tag=!killer,tag=!spectator,distance=..2] run advancement grant @a[tag=killer] only cmzy:cmzy/kill_feidao
execute at @e[tag=zidan] as @a[tag=!killer,tag=!spectator,distance=..2] run scoreboard players remove @a[tag=killer] cmzy_timer2 100
execute at @e[tag=zidan] as @a[tag=!killer,tag=!spectator,distance=..2] if score feidao_instant_kill cmzy_count matches 0 run effect give @s instant_damage 1 1 true
execute as @e[tag=zidan] at @s if entity @a[tag=!killer,tag=!spectator,distance=..2] run kill @s
#飞刀冷却
execute as @a[tag=feidao] run scoreboard players remove @s cmzy_timer2 1
execute as @a[tag=feidao] if score @s cmzy_timer2 matches 1.. run replaceitem entity @s hotbar.1 structure_void{display:{Name:'{"text":"\\u00a76\\u00a7l无法使用"}',Lore:['{"text":"\\u00a75武器栏：勿占用此格"}']},Tags:["nowuqi"]} 1
execute as @a[tag=feidao] if score @s cmzy_timer2 matches ..0 run function cmzy:debug/stop_cooling
#spectator
execute if score time cmzy_timer matches 1 run bossbar set timer players @a
execute if score time cmzy_timer matches 1 run bossbar set timer visible true
execute if score time cmzy_timer <= game_time2 cmzy_count run bossbar set timer color green
execute if score time cmzy_timer <= game_time2 cmzy_count run bossbar set timer name ["",{"text":"剩余时间","color":"green","bold":true}]
execute if score time cmzy_timer matches 40 run function cmzy:map/maps/teleport/mapstp
execute store result bossbar timer value run scoreboard players get time cmzy_timer
execute if score time cmzy_timer >= game_time2 cmzy_count if score time cmzy_timer < game_time1 cmzy_count run bossbar set timer color yellow
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run bossbar set timer color red
execute if score time cmzy_timer >= game_time2 cmzy_count if score time cmzy_timer < game_time1 cmzy_count run bossbar set timer name ["",{"text":"剩余时间","color":"yellow","bold":true}]
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run bossbar set timer name ["",{"text":"剩余时间","color":"red","bold":true}]
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run kill @e[type=item,tag=alarm]
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run clear @a carrot_on_a_stick{Tags:["alarm"]}
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run scoreboard players set one_player_glow cmzy_count 1
execute if score time cmzy_timer >= game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count if score lasttime cmzy_count matches 0 run function cmzy:others/lasttime
execute if score time cmzy_timer >= game_time cmzy_count run function cmzy:others/next_level
#生成/取消 子保护者
execute unless score fkz_z cmzy_fkz_z matches 1 as @a[tag=killer,tag=watching,nbt={SelectedItem:{tag:{Tags:["wq"]}}}] at @s run function cmzy:fkz/fkz_z
execute if score fkz_z cmzy_fkz_z matches 1 as @a[tag=fkz_Z,tag=watching,nbt={SelectedItem:{tag:{Tags:["wq"]}}}] at @s if score @s cmzy_watch matches ..85 run function cmzy:fkz/fkz_fail
#获得积分
execute if score cumulative_score_killer cmzy_timer matches 240.. run experience add @a[tag=killer] 1 levels
execute if score cumulative_score_killer cmzy_timer matches 240.. run scoreboard players reset cumulative_score_killer cmzy_timer

execute if score cumulative_score_normal cmzy_timer matches 260.. run experience add @a[tag=normal] 1 levels
execute if score cumulative_score_normal cmzy_timer matches 260.. run scoreboard players reset cumulative_score_normal cmzy_timer
#新手提示
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：现在是[\u00a7f\u00a76第一阶段\u00a7e]，保持至上方倒计时进度条结束之前。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=normal,tag=!fkz] ["\u00a7e[提示] ：你的身份是：[\u00a7b\u00a7l逃生者\u00a7e]，在此之前活下去是最重要的。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=normal,tag=!fkz] ["\u00a7e[提示] ：当心，其他玩家中的一位会是[\u00a7c\u00a7l杀手\u00a7e]，他的目的是击败[\u00a7b\u00a7l逃生者\u00a7e]。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=killer] ["\u00a7e[提示] ：你的身份是：[\u00a7c\u00a7l杀手\u00a7e]，目的是击败[\u00a7b\u00a7l逃生者\u00a7e]。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=killer] ["\u00a7e[提示] ：尽可能不为人知地击败他们，刺杀是你的强项也是最安全的环境。"]
execute if score time cmzy_timer matches 800 run tellraw @a[tag=MengXin,tag=killer] ["\u00a7e[提示] ：场内会有一名[\u00a75\u00a7l保护者\u00a7e]，他会找出[\u00a7c\u00a7l杀手\u00a7e]并击败他。"]
execute if score time cmzy_timer matches 800 run tellraw @a[tag=MengXin,tag=killer] ["\u00a7e[提示] ：[\u00a7c\u00a7l杀手\u00a7e]持武器被[\u00a7b\u00a7l逃生者\u00a7e]阵营发现，那么还会生成[\u00a75\u00a7l保护者\u00a7e]去击败[\u00a7c\u00a7l杀手\u00a7e]。"]
execute if score time cmzy_timer matches 700 run tellraw @a[tag=MengXin,tag=killer] ["\u00a7e[提示] ：当前[\u00a7c\u00a7l杀手\u00a7e]，可以右键武器投掷出飞刀。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=fkz] ["\u00a7e[提示] ：你的身份是：[\u00a75\u00a7l保护者\u00a7e]，与[\u00a7b\u00a7l逃生者\u00a7e]是同阵营的。"]
execute if score time cmzy_timer matches 60 run tellraw @a[tag=MengXin,tag=fkz] ["\u00a7e[提示] ：[\u00a75\u00a7l保护者\u00a7e]，是[\u00a7c\u00a7l杀手\u00a7e]唯二拥有武器的身份，警惕的同时，找出[\u00a7c\u00a7l杀手\u00a7e]去击败他！。"]
execute if score time cmzy_timer matches 1200 run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：拾取散落在各地的[\u00a7f\u00a7l金蛋\u00a7e]将获取积分，积分用于第二阶段的道具购买。\n拾取四枚[\u00a7f\u00a7l金蛋\u00a7e]将获取[\u00a7f\u00a7l闹钟\u00a7e]"]
execute if score time cmzy_timer matches 1200 run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：使用[\u00a7f\u00a7l闹钟\u00a7e]会使倒计时进度条向己方阵营进退，\n并使全场玩家除自己外发光暴露。"]
execute if score time cmzy_timer matches 300 run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：即将获得[\u00a7f\u00a7l体魄\u00a7e]信息，这关系到此局你的移动速度"]
execute if score time cmzy_timer matches 460 run tellraw @a[tag=MengXin] ["\u00a7e[提示]:现在至[\u00a7f\u00a76第一阶段\u00a7e]结束前，打开背包选择天赋！并且查看自身的所有属性"]
execute if score time cmzy_timer = game_time2 cmzy_count if score time cmzy_timer < game_time1 cmzy_count run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：[\u00a7f\u00a76第一阶段\u00a7e]已进入中期，[\u00a7f\u00a7l闹钟\u00a7e]会在[\u00a7f\u00a7l祭坛\u00a7e]生成，找到[\u00a7f\u00a7l祭坛\u00a7e]这对你有帮助。"]
execute if score time cmzy_timer = game_time1 cmzy_count if score time cmzy_timer < game_time cmzy_count run tellraw @a[tag=MengXin] ["\u00a7e[提示] ：[\u00a7f\u00a76第一阶段\u00a7e]已进入末期，[\u00a7f\u00a7l闹钟\u00a7e]消失，全体玩家长时间发光，行动起来！"]
