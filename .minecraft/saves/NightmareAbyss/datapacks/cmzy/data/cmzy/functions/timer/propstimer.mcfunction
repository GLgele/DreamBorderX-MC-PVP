#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#知识产权声明 
#GoldenEggs拥有本我的世界内置游戏数据包以及建筑存档地图内所有资料的版权，各分频道权利声明有特殊规定的，从其规定。任何被授权的浏览、复制、打印和传播属于本我的世界内置游戏数据包以及建筑存档地图内的资料必须符合以下条件： 
#• 所有的资料和图象均以获得信息为目的； 
#• 所有的资料和图象均不得用于商业目的； 
#• 所有的资料、图象及其任何部分都必须包括此版权声明； 
#本我的世界内置游戏数据包以及建筑存档地图（www.gold.eggs）所有的产品、技术与所有程序均属于GoldenEggs知识产权，在此并未授权。 “GoldenEggs”及相关图形等为GoldenEggs的注册商标。 
#未经GoldenEggs许可，任何人不得擅自（包括但不限于：以非法的方式复制、传播、展示、镜像、上载、下载）使用，或通过非常规方式（如：恶意干预GoldenEggs数据）影响GoldenEggs的正常服务，任何人不得擅自以软件程序自动获得GoldenEggs数据。否则，GoldenEggs将依法追究法律责任。
#天赋：嗅觉
execute at @a[tag=XiuJue,tag=killer_2] as @a[tag=normal,scores={cmzy_doctorOF=1..2},distance=..16,tag=!BingXi,tag=!BingXi_G] at @s run effect give @a[distance=..2,tag=normal,tag=!BingXi,tag=!BingXi_G] glowing 2 0 true
#天赋：屏息
execute as @a[tag=BingXi,tag=normal] at @s run tag @a[tag=!BingXi,tag=!BingXi_G,tag=normal,distance=..6] add BingXi_G
execute as @a[tag=BingXi_G,tag=normal] at @s unless entity @a[distance=..6,tag=BingXi,tag=normal] run function cmzy:talent/normal/talent/bingxi/bingxi_remove
#天赋：侦察
execute if entity @a[tag=ZhenCha,scores={talent_zhencha=60..}] run function cmzy:talent/normal/talent/zhencha/zhencha_go
#天赋：瓦解
execute as @a[tag=killer_2,tag=WanLiu] at @s run function cmzy:talent/killer/talent/wanliu/wanliu_2
#主动技能:献祭,计时器
execute if score killer xianji_timer matches 1.. run scoreboard players remove killer xianji_timer 1
execute if score killer xianji_timer matches ..0 run scoreboard players reset killer xianji_timer
execute as @a[tag=normal,scores={xianji_timer=1..}] at @s run scoreboard players remove @s xianji_timer 1
execute as @a[tag=normal,scores={xianji_timer=..0}] at @s run function cmzy:items/props/xianji/normal/normal_remove
execute as @a[tag=!spectator,tag=normal] at @s run replaceitem entity @s hotbar.7 carrot_on_a_stick{display:{Name:'"\\u00a76\\u00a7l献祭"',Lore:['"\\u00a75消耗至多20积分"','"\\u00a75每x积分为自己提供3秒x%移动速度"','"\\u00a75各取所需"']},Tags:["XianJi"],HideFlags:63,CustomModelData:19}
execute as @a[tag=!spectator,tag=killer_2] at @s if score @s xianji_timer matches 1 run replaceitem entity @s hotbar.7 carrot_on_a_stick{display:{Name:'"\\u00a7l\\u00a75结束\\u00a76献祭"',Lore:['"\\u00a75为自己提供8%移动速度"','"\\u00a75每秒消耗1积分"','"\\u00a75在献祭中会强化使用中的道具"','"\\u00a75消耗20积分"']},Tags:["XianJi"],HideFlags:63,CustomModelData:18}
execute as @a[tag=!spectator,tag=killer_2] at @s unless score @s xianji_timer matches 1 run replaceitem entity @s hotbar.7 carrot_on_a_stick{display:{Name:'"\\u00a7l\\u00a75启用\\u00a76献祭"',Lore:['"\\u00a75为自己提供8%移动速度"','"\\u00a75每秒消耗1积分"','"\\u00a75在献祭中会强化使用中的道具"','"\\u00a75消耗20积分"']},Tags:["XianJi"],HideFlags:63,CustomModelData:17}
#梦境沙漏齿轮安装检测
function cmzy:items/second_stage/shalou/sanglassinstall
#第二阶段地窖创建
execute if score dijiaotime cmzy_timer matches 1.. run scoreboard players add dijiaotime cmzy_timer 1
execute if score dijiaotime cmzy_timer matches 300 run function cmzy:map/maps/dijiao/key
execute as @e[tag=key,type=item,limit=1] at @s run data modify entity @s Age set value 1s
execute if score time cmzy_timer matches 500.. if score normal cmzy_count matches 1 unless entity @e[tag=dijiao,type=falling_block] run function cmzy:map/maps/dijiao/map
#地窖视觉效果
execute as @e[tag=dijiao,type=falling_block] at @s run data modify entity @s Time set value 1
execute as @e[tag=dijiao,type=falling_block] at @s run particle minecraft:dragon_breath ~ ~ ~ 0.1 0.1 0.1 0.1 5
#检测大门逃脱
function cmzy:map/tao
#钥匙
execute as @a[nbt={Inventory:[{tag:{Tags:["key"]}}]}] at @s run function cmzy:items/props/key
#地窖逃跑检测
execute at @e[type=falling_block,tag=dijiao] as @a[tag=normal,tag=key,distance=..1] run function cmzy:debug/excape
#timer 2 invisible
execute if score game cmzy_count matches 4 if score time_2 cmzy_timer matches ..17999 run scoreboard players add time_2 cmzy_timer 1
execute if score game cmzy_count matches 4 if score time_2 cmzy_timer matches 18000.. run function cmzy:others/next_level
execute if score game cmzy_count matches 4 if score time_2 cmzy_timer matches 18000.. run scoreboard players set time_2 cmzy_timer 0
#获取齿轮
execute at @e[type=item,tag=lingjian] as @e[tag=sanglasspart,limit=1,sort=nearest] if entity @a[tag=normal,distance=..2,limit=1,sort=nearest] run tag @s remove sanglasspart
execute at @e[type=item,tag=lingjian] as @e[tag=sanglasspart,limit=1,sort=nearest] run advancement grant @a[tag=normal,distance=..2,limit=1,sort=nearest] only cmzy:cmzy/normal_lingjian
#杀手破坏齿轮
execute at @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] as @e[tag=sanglasspart,distance=..2,limit=1,sort=nearest] run advancement grant @s only cmzy:cmzy/kill_lingjian
execute at @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] as @e[tag=sanglasspart,distance=..2,limit=1,sort=nearest] run tag @s remove sanglasspart
execute as @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] at @s run particle minecraft:cloud ~ ~ ~ 0 0.5 0 1 100 force
execute as @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] at @s run playsound entity.item.break master @a ~ ~ ~
execute as @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] at @s run experience add @s 5 levels
execute as @a[tag=killer_2,nbt={Inventory:[{tag:{Tags:["lingjian"]}}]}] at @s run clear @s blue_dye
#丢弃类道具使用提示
execute at @e[type=item,nbt={Item:{tag:{Tags:["dreamnet"]}}}] as @a[distance=..8,tag=killer_2] run function cmzy:items/props/dreamnet
execute as @a[tag=normal] at @s if entity @s[nbt={SelectedItem:{tag:{Tags:["lingjian"]}}},tag=!elevator] run title @s actionbar [{"text":"道具","color":"yellow"},{"text":"[","bold":true,"color":"red"},{"keybind":"key.drop","bold":true,"color":"red"},{"text":"]","bold":true,"color":"red"},{"text":"键位使用","color":"yellow"}]
execute as @a[tag=normal] at @s if entity @s[nbt={SelectedItem:{tag:{Tags:["dreamnet"]}}},tag=!elevator] run title @s actionbar [{"text":"道具","color":"yellow"},{"text":"[","bold":true,"color":"red"},{"keybind":"key.drop","bold":true,"color":"red"},{"text":"]","bold":true,"color":"red"},{"text":"键位使用","color":"yellow"}]
#第二阶段商店
execute run scoreboard players enable @a cmzy_items
execute as @a[tag=killer_2,tag=!shopping,tag=!whisper,tag=!Whisper_in] at @s if block ~ ~-1 ~ red_mushroom_block run function cmzy:items/second_stage/killer/shoppingbook
execute as @a[tag=normal,tag=!shopping] at @s if block ~ ~-1 ~ red_mushroom_block run function cmzy:items/second_stage/normal/shoppingbook
execute as @a[scores={cmzy_items=100..},tag=killer_2] at @s run function cmzy:items/second_stage/killer/shopping
execute as @a[scores={cmzy_items=100..},tag=normal] at @s run function cmzy:items/second_stage/normal/shopping
execute as @a[tag=shopping] at @s unless block ~ ~-1 ~ minecraft:red_mushroom_block run clear @s minecraft:written_book
execute as @a[tag=shopping] at @s unless block ~ ~-1 ~ minecraft:red_mushroom_block run tag @s remove shopping
#杀手主动开门
#######################大门进度条显示
execute if score map cmzy_count matches 1 positioned 38 37 -9 run bossbar set opendoor_1 players @a[distance=..7]
execute if score map cmzy_count matches 1 positioned -46 36 36 run bossbar set opendoor_2 players @a[distance=..7]
execute if score map cmzy_count matches 2 positioned -368 4 229 run bossbar set opendoor_1 players @a[distance=..7]
execute if score map cmzy_count matches 2 positioned -369 4 312 run bossbar set opendoor_2 players @a[distance=..7]
execute if score map cmzy_count matches 3 positioned -414 16 23 run bossbar set opendoor_1 players @a[distance=..7]
execute if score map cmzy_count matches 3 positioned -345 1 -46 run bossbar set opendoor_2 players @a[distance=..7]

execute if score opendoor_1_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 1 positioned 38 37 -9 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map1/map_1_no
execute if score opendoor_2_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 1 positioned -46 36 36 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map1/map_2_no
execute if score opendoor_1_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 2 positioned -368 4 229 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map2/map_1_no
execute if score opendoor_2_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 2 positioned -369 4 312 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map2/map_2_no
execute if score opendoor_1_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 3 positioned -414 16 23 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map3/map_1_no
execute if score opendoor_2_K cmzy_timer2 matches ..7000 if score map cmzy_count matches 3 positioned -345 1 -46 unless entity @a[distance=..1,tag=killer_2] run function cmzy:map/maps/killer_wrench/map3/map_2_no

execute if score map cmzy_count matches 1 if score time cmzy_timer matches 3600.. positioned 38 37 -9 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block 38 38 -9 lever[powered=true] if block 38 36 -9 diamond_block run function cmzy:map/maps/killer_wrench/map1/map_1
execute if score map cmzy_count matches 1 if score time cmzy_timer matches 3600.. positioned -46 36 36 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block -46 37 36 lever[powered=true] if block -46 35 36 diamond_block run function cmzy:map/maps/killer_wrench/map1/map_2

execute if score map cmzy_count matches 2 if score time cmzy_timer matches 3600.. positioned -368 4 229 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block -368 5 229 lever[powered=true] if block -368 3 229 diamond_block run function cmzy:map/maps/killer_wrench/map2/map_1
execute if score map cmzy_count matches 2 if score time cmzy_timer matches 3600.. positioned -369 4 312 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block -369 5 312 lever[powered=true] if block -369 3 312 diamond_block run function cmzy:map/maps/killer_wrench/map2/map_2

execute if score map cmzy_count matches 3 if score time cmzy_timer matches 3600.. positioned -414 16 23 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block -414 17 23 lever[powered=true] if block -414 15 23 diamond_block run function cmzy:map/maps/killer_wrench/map3/map_1
execute if score map cmzy_count matches 3 if score time cmzy_timer matches 3600.. positioned -345 1 -46 if entity @a[distance=..1,tag=killer_2,tag=!SBDOG,tag=!normal] if block -345 2 -46 lever[powered=true] if block -345 0 -46 diamond_block run function cmzy:map/maps/killer_wrench/map3/map_2

execute as @e[tag=look_block,tag=map_1_door_down] at @s if block ~ ~-1 ~ sea_lantern run function cmzy:map/maps/killer_wrench/map1
#残局检测
execute if score playersall cmzy_count >= normal cmzy_count unless score canju cmzy_count matches 1 run function cmzy:debug/canju
########################金蛋工作室##金###金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。#金蛋工作室，沉##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。梦之渊数据##金蛋工作室，沉梦之渊数###金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。#金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。据包。禁止二次创作，禁止盗版。包。禁止二次创作，禁止盗版。蛋工作室##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。，沉梦之渊数据包。禁止二次创作，禁止盗版##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。。，##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。沉##金蛋工作室，沉梦之##金蛋工作室，沉梦##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。之渊数据包。禁止二次创作，禁止盗版。数据包。禁止二次创作，禁止盗版。梦之##金蛋工作室，沉梦之渊数据包。禁止二次创作，禁止盗版。渊数据包。禁止二次创作，禁止盗版。
#获得积分
execute if score cumulative_score_killer cmzy_timer matches 240.. run experience add @a[tag=killer_2] 1 levels
execute if score cumulative_score_killer cmzy_timer matches 240.. run scoreboard players reset cumulative_score_killer cmzy_timer

execute if score cumulative_score_normal cmzy_timer matches 280.. run experience add @a[tag=normal] 1 levels
execute if score cumulative_score_normal cmzy_timer matches 280.. run scoreboard players reset cumulative_score_normal cmzy_timer
####技能
#电梯计时器
execute if score one cmzy_elevator matches 1.. run function cmzy:map/maps/elevator/one
#医疗包计时器
execute if score doctor cmzy_props matches 1.. run function cmzy:items/props/doctor/doctor
#游魂之泪计时器
execute at @e[tag=soul_shadow,type=armor_stand] as @a[tag=normal,distance=..12] run effect give @s glowing 1 0 true
execute if score soultear cmzy_soultear matches 1.. run function cmzy:items/props/soultear
execute if score soultear cmzy_timer3 matches 1.. run scoreboard players remove soultear cmzy_timer3 1
execute if score soultear cmzy_timer3 matches 0 run function cmzy:items/props/soultear
#缚咒雅典娜计时器
execute if score athena cmzy_props matches 1.. run function cmzy:items/props/athena
#染血的铰链计时器
execute if score chain cmzy_props matches 1 run function cmzy:items/props/chain/chain
execute if score chain cmzy_props matches 2 run function cmzy:items/props/chain/inchain
execute if score chain cmzy_props matches 3 run function cmzy:items/props/chain/nochain
#凋零诅咒计时器
execute as @a[tag=chain_curse,scores={chain_curse_time=20..}] at @s run effect give @s slowness 1 2 true
execute as @a[tag=chain_curse,scores={chain_curse_time=1..}] at @s run scoreboard players remove @s chain_curse_time 1
execute as @a[tag=chain_curse,scores={chain_curse_time=..0}] at @s run clear @s white_dye{Tags:["chain_curse"]}
execute as @a[tag=chain_curse,scores={chain_curse_time=..0}] at @s run tag @s remove chain_curse
#yanwudan计时器
execute as @e[tag=smoke] at @s if score smoke cmzy_smoke matches 1.. run function cmzy:items/props/smoke
#time计时器
execute if score time cmzy_timer3 matches 1.. run scoreboard players remove time cmzy_timer3 1
execute if score time cmzy_timer3 matches 0 run function cmzy:items/props/time
#蒸汽计时器
execute as @e[type=falling_block,tag=hotiron,scores={cmzy_hotiron=1..}] run function cmzy:items/props/hotironing
execute as @a[scores={cmzy_hotiron=..1200}] at @s run scoreboard players remove @s cmzy_hotiron 1
execute as @a[scores={cmzy_hotiron=20..},tag=normal,tag=!hotironmaster,tag=hotiron] at @s run effect give @s slowness 1 0 true
execute as @a[scores={cmzy_hotiron=0}] at @s run tag @s remove hotiron
execute as @a[scores={cmzy_hotiron=0}] at @s run tag @s remove hotironmaster
execute as @a[scores={cmzy_hotiron=0}] at @s run clear @s white_dye{Tags:["RBZQ"]}
execute as @a[scores={cmzy_hotiron=0}] at @s run scoreboard players reset @s cmzy_hotiron
#虫洞检测
execute as @e[tag=Kirito-B,type=falling_block] at @s run data modify entity @s Time set value 1
execute as @a[tag=!spectator] at @s if entity @e[distance=..0.55,tag=Kirito-B] run effect give @s slowness 4 1 true
execute as @a[tag=!spectator] at @s if entity @e[distance=..0.55,tag=Kirito-B] run effect give @s nausea 7 0 true
execute as @e[tag=KRTB,tag=KRTB_two,type=armor_stand,scores={cmzy_krtb=1..}] at @s run scoreboard players remove @s cmzy_krtb 1
execute as @e[tag=KRTB,tag=KRTB_two,type=armor_stand,scores={cmzy_krtb=..0}] run function cmzy:items/props/krtb/krtb_no/krtb
#梦境沙漏被破坏发红计时器
execute as @e[tag=shalou,tag=killer,type=falling_block] at @s if score @s cmzy_timer3 matches 1.. run scoreboard players remove @s cmzy_timer3 1
execute as @e[tag=shalou,tag=killer,type=falling_block] at @s run data modify entity @s Time set value 1
execute at @e[tag=shalou,tag=killer,type=falling_block] as @e[tag=shalou,tag=killer,distance=..2,type=falling_block] if score @s cmzy_timer3 matches 0 run tag @e[tag=shalou,tag=killer,type=armor_stand,limit=1,sort=nearest,distance=..2] remove killer
execute as @e[tag=shalou,tag=killer,type=falling_block] at @s if score @s cmzy_timer3 matches 0 run kill @e[tag=shalou,tag=killer,distance=..2,type=falling_block]
#一刀斩计时器
execute if score 斯塔缇克电刃 cmzy_count matches 1.. run scoreboard players remove 斯塔缇克电刃 cmzy_count 1
execute if score 斯塔缇克电刃 cmzy_count matches ..0 run scoreboard players reset 斯塔缇克电刃 cmzy_count

#工作箱队友可视化
execute as @a[scores={cmzy_doctor=1},tag=!spectator] at @s run bossbar set doctor_1 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=2},tag=!spectator] at @s run bossbar set doctor_2 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=3},tag=!spectator] at @s run bossbar set doctor_3 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=4},tag=!spectator] at @s run bossbar set doctor_4 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=5},tag=!spectator] at @s run bossbar set doctor_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=6},tag=!spectator] at @s run bossbar set doctor_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=7},tag=!spectator] at @s run bossbar set doctor_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_doctor=8},tag=!spectator] at @s run bossbar set doctor_5 players @a[distance=..3,tag=!killer_2]
#
execute as @a[scores={cmzy_wrench=1},tag=!spectator] at @s run bossbar set gongjuren_1 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=2},tag=!spectator] at @s run bossbar set gongjuren_2 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=3},tag=!spectator] at @s run bossbar set gongjuren_3 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=4},tag=!spectator] at @s run bossbar set gongjuren_4 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=5},tag=!spectator] at @s run bossbar set gongjuren_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=6},tag=!spectator] at @s run bossbar set gongjuren_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=7},tag=!spectator] at @s run bossbar set gongjuren_5 players @a[distance=..3,tag=!killer_2]
execute as @a[scores={cmzy_wrench=8},tag=!spectator] at @s run bossbar set gongjuren_5 players @a[distance=..3,tag=!killer_2]


execute if score game cmzy_count matches 4 run bossbar set minecraft:sanglassall players @a
execute if score game cmzy_count matches 5 run bossbar set minecraft:sanglassall players
